{% extends "admin/base_site.html" %}
{% load static %}

{% block content %}
  <div class="ce-admin-wrap">
    <h1>Master Applications</h1>

    <div style="display:flex; gap:12px; flex-wrap:wrap; margin-bottom:24px;">
      {% for fd in masters %}
        <a class="ce-admin-tile" href="/admin/applications/formdefinition/{{ fd.id }}/change/">
          <div class="ce-admin-tile-title">{{ fd.slug }}</div>
          <div class="ce-admin-tile-sub">{{ fd.name }}</div>
        </a>
      {% empty %}
        <p>No master forms found yet.</p>
      {% endfor %}
    </div>

    <hr style="margin:24px 0;"/>

    <h2>Groups</h2>

    <form method="post" action="{% url 'admin_create_group' %}">
        {% csrf_token %}
        {{ create_group_form.as_p }}
        <button type="submit">Create group</button>
      </form>
      

    {% for gnum, items in group_list %}
      <h3>Group {{ gnum }}</h3>
      <ul>
        {% for fd in items %}
          <li>
            <a href="/admin/applications/formdefinition/{{ fd.id }}/change/">{{ fd.slug }}</a>
            â€” {{ fd.name }}
          </li>
        {% endfor %}
      </ul>
    {% empty %}
      <p>No groups yet.</p>
    {% endfor %}
  </div>
{% endblock %}
